{"version":3,"file":"static/js/Review.a55a7051.chunk.js","mappings":"gTAAMA,EAAW,+BACXC,EAAW,mCACJC,EAAW,sCAAjB,SAEQC,IAAAA,OAAAA,EAAAA,MAAAA,KAAAA,WAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,2GAAuCC,EAAvC,+BAA6C,GAAIC,EAAjD,+BAA0D,GAA1D,SAC2BC,MAAMF,EAAKC,GADtC,YACUE,EADV,QAEoBC,GAFpB,iCAGYD,EAASE,OAHrB,gDAIMC,QAAQC,OAAO,IAAIC,MAAM,cAJ/B,2GAOO,SAASC,IACZ,OAAOV,EAAuB,GAAD,OAAIH,EAAJ,qCAAyCC,IAGnE,SAASa,EAAoBC,GAChC,OAAOZ,EAAuB,GAAD,OAAIH,EAAJ,iCAAqCC,EAArC,iCAAsEc,EAAtE,gCAG1B,SAASC,EAAeC,GAC3B,OAAOd,EAAuB,GAAD,OAAIH,EAAJ,kBAAsBiB,EAAtB,oBAAyChB,EAAzC,oBAG1B,SAASiB,EAAiBD,GAC7B,OAAOd,EAAuB,GAAD,OAAIH,EAAJ,kBAAsBiB,EAAtB,4BAAiDhB,EAAjD,oBAG1B,SAASkB,EAAiBF,GAC7B,OAAOd,EAAuB,GAAD,OAAIH,EAAJ,kBAAsBiB,EAAtB,4BAAiDhB,EAAjD,6B,mDCNjC,IAnBqB,WACjB,IAAMmB,GAAWC,EAAAA,EAAAA,MAQjB,OANAC,EAAAA,EAAAA,YAAU,WACNC,YAAW,WACPH,EAAS,IAAK,CAAEI,SAAS,MAC3B,OACJ,CAACJ,KAGC,gBAAIK,MAAO,CAAEC,UAAW,UAAxB,gCAEI,oF,yGCOZ,EAlB4B,WACxB,IAAMT,GAAUU,EAAAA,EAAAA,MAEhB,GAA8BC,EAAAA,EAAAA,UAAS,QAAvC,eAAQC,EAAR,KAAgBC,EAAhB,KACA,GAAgCF,EAAAA,EAAAA,UAAS,MAAzC,eAAQG,EAAR,KAAiBC,EAAjB,KAWA,OATAV,EAAAA,EAAAA,YAAU,WACNQ,EAAU,WACVG,EAAAA,GACsBhB,GACjBiB,KAAKF,GACLE,KAAKJ,EAAU,aACfK,OAAM,SAAAC,GAAK,OAAIN,EAAU,iBAChC,CAACb,IAEI,CAAEc,QAAAA,EAASF,OAAAA,I,iBClBtB,EAA6B,+BCA7B,EAAiC,uCAAjC,EAAiF,+BAAjF,EAAyH,+B,SCwBzH,EAtBuB,SAAC,GAAgB,IAAdQ,EAAa,EAAbA,OACdC,EAAoBD,EAApBC,OAAQC,EAAYF,EAAZE,QAChB,OACI,iBAAKC,UAAWC,EAAhB,WACI,cAAGD,UAAWC,EAAd,SACKH,KAGL,eAAGE,UAAWC,EAAd,qBACaF,SCkCzB,EAvCmB,WACf,IAc0B,IAd1B,EAA2BG,IAApBb,EAAP,EAAOA,OAAQE,EAAf,EAAeA,QAEf,MAAc,SAAXF,GAAgC,YAAXA,GAEhB,SAACc,EAAA,EAAD,IAIM,aAAXd,GAEK,SAACe,EAAA,EAAD,IAIM,aAAXf,GAEK,iCACI,mBACA,eAAIW,UAAWC,EAAf,UAEe,OAAPV,QAAO,IAAPA,GAAA,UAAAA,EAASc,eAAT,eAAkBC,QAAS,EAA3B,OACIf,QADJ,IACIA,GADJ,UACIA,EAASc,eADb,aACI,EAAkBE,KAAI,SAAAV,GAAM,OAC5B,SAAC,EAAD,CAAgCA,OAAQA,GAAnBA,EAAOW,QAE9B,0DAVtB,GCZJ,EARmB,WACf,OACI,0BACI,SAAC,EAAD","sources":["services/themoviedbAPI.js","view/NotFoundView.js","hooks/useFetchReviewsById.js","webpack://movie-finder-app/./src/components/ReviewList/ReviewList.module.css?fe39","webpack://movie-finder-app/./src/components/ReviewListItem/ReviewListItem.module.css?7714","components/ReviewListItem/ReviewListItem.js","components/ReviewList/ReviewList.js","view/ReviewView.js"],"sourcesContent":["const BASE_URL = \"https://api.themoviedb.org/3\";\r\nconst BASE_KEY = \"8c2f1cd8692a539e3bea9ae95f68229a\";\r\nexport const BASE_IMG = \"https://image.tmdb.org/t/p/original\";\r\n\r\nasync function FetchWithErrorHandling( url = \"\", config = {} ) {\r\n    const response = await fetch(url, config);\r\n    return response.ok \r\n    ? await response.json()\r\n    : Promise.reject(new Error(\"Not found\"))\r\n}\r\n\r\nexport function fetchTrendingMovies() {\r\n    return FetchWithErrorHandling(`${BASE_URL}/trending/all/day?api_key=${BASE_KEY}`);\r\n};\r\n\r\nexport function fetchMoviesBySearch(query) {\r\n    return FetchWithErrorHandling(`${BASE_URL}/search/movie?api_key=${BASE_KEY}&language=en-US&query=${query}&page=1&include_adult=false`);\r\n};\r\n\r\nexport function fetchMovieById(movieId) {\r\n    return FetchWithErrorHandling(`${BASE_URL}/movie/${movieId}?api_key=${BASE_KEY}&language=en-US`)\r\n}\r\n\r\nexport function fetchCreditsById(movieId) {\r\n    return FetchWithErrorHandling(`${BASE_URL}/movie/${movieId}/credits?api_key=${BASE_KEY}&language=en-US`)\r\n}\r\n\r\nexport function fetchReviewsById(movieId) {\r\n    return FetchWithErrorHandling(`${BASE_URL}/movie/${movieId}/reviews?api_key=${BASE_KEY}&language=en-US&page=1`)\r\n}","import { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst NotFoundView = () => {\r\n    const navigate = useNavigate()\r\n\r\n    useEffect(() => {\r\n        setTimeout(()=> {\r\n            navigate(\"/\", { replace: true })\r\n        },2000)\r\n    },[navigate])\r\n\r\n    return (\r\n        <h1 style={{ textAlign: \"center\" }}>\r\n            404 Page not found\r\n            <p>\r\n                You will be automaticly redirected to the Home Page\r\n            </p>\r\n        </h1>\r\n    );\r\n};\r\n\r\nexport default NotFoundView;","import { useState, useEffect } from \"react\";\r\nimport { useOutletContext } from \"react-router-dom\";\r\nimport * as ThemoviedbAPI from \"../services/themoviedbAPI\";\r\n\r\nconst useFetchReviewsById = () => {\r\n    const movieId = useOutletContext();\r\n\r\n    const [ status, setStatus ] = useState(\"idle\");\r\n    const [ reviews, setReviews ] = useState(null);\r\n\r\n    useEffect(() => {\r\n        setStatus(\"pending\");\r\n        ThemoviedbAPI\r\n            .fetchReviewsById(movieId)\r\n            .then(setReviews)\r\n            .then(setStatus(\"resolved\"))\r\n            .catch(error => setStatus(\"rejected\"))\r\n    },[movieId]);\r\n   \r\n    return { reviews, status}\r\n};\r\n\r\nexport default useFetchReviewsById;","// extracted by mini-css-extract-plugin\nexport default {\"ReviewList\":\"ReviewList_ReviewList__khbgz\"};","// extracted by mini-css-extract-plugin\nexport default {\"ReviewListItem\":\"ReviewListItem_ReviewListItem__pvoT+\",\"Author\":\"ReviewListItem_Author__2ktT3\",\"Review\":\"ReviewListItem_Review__5Lyy9\"};","import styles from \"./ReviewListItem.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ReviewListItem = ({ review }) => {\r\n    const { author, content } = review;\r\n    return (\r\n        <div className={styles.ReviewListItem}>\r\n            <p className={styles.Author}>\r\n                {author}    \r\n            </p>\r\n\r\n            <q className={styles.Review}>\r\n                Author: {content}\r\n            </q>\r\n        </div>\r\n    );\r\n};\r\n\r\nReviewListItem.propTypes = {\r\n    review: PropTypes.shape({\r\n        author: PropTypes.string.isRequired,\r\n        content: PropTypes.string.isRequired        \r\n    }) \r\n}\r\n\r\nexport default ReviewListItem;","import useFetchReviewsById from \"hooks/useFetchReviewsById\";\r\nimport Loader from \"components/Loader/Loader\";\r\nimport NotFoundView from \"view/NotFoundView\";\r\nimport styles from \"./ReviewList.module.css\"\r\nimport ReviewListItem from \"components/ReviewListItem/ReviewListItem\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ReviewList = () => {\r\n    const {status, reviews } = useFetchReviewsById();\r\n\r\n    if(status === \"idle\" || status === \"pending\") {\r\n        return (\r\n            <Loader/>\r\n        )\r\n    };\r\n\r\n    if(status === \"rejected\") {\r\n        return (\r\n            <NotFoundView/>\r\n        )\r\n    };\r\n\r\n    if(status === \"resolved\") {\r\n        return (\r\n            <>\r\n                <hr />\r\n                <ul className={styles.ReviewList}>\r\n                    {\r\n                        reviews?.results?.length > 0\r\n                        ?   reviews?.results?.map(review => (\r\n                            <ReviewListItem key={review.id} review={review}/>\r\n                        ))\r\n                        : <h3>No reviews was left</h3>\r\n                    }\r\n                </ul>\r\n            </>\r\n        );\r\n    }\r\n};\r\n\r\nReviewList.propTypes = {\r\n    reviews: PropTypes.arrayOf(PropTypes.shape({  \r\n        id: PropTypes.number.isRequired\r\n    }))\r\n}\r\n\r\nexport default ReviewList;","import ReviewList from \"components/ReviewList/ReviewList\";\r\n\r\nconst ReviewView = () => {\r\n    return (\r\n        <div>\r\n            <ReviewList/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ReviewView;"],"names":["BASE_URL","BASE_KEY","BASE_IMG","FetchWithErrorHandling","url","config","fetch","response","ok","json","Promise","reject","Error","fetchTrendingMovies","fetchMoviesBySearch","query","fetchMovieById","movieId","fetchCreditsById","fetchReviewsById","navigate","useNavigate","useEffect","setTimeout","replace","style","textAlign","useOutletContext","useState","status","setStatus","reviews","setReviews","ThemoviedbAPI","then","catch","error","review","author","content","className","styles","useFetchReviewsById","Loader","NotFoundView","results","length","map","id"],"sourceRoot":""}